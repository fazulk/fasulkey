{"version":3,"sources":["../src/app.js"],"names":["dotenv","config","MONGO_CONNECTION","process","env","DB_CONNECTION","app","URL","PORT","mongoose","connect","useCreateIndex","useNewUrlParser","then","console","log","catch","err","use","express","json","urlencoded","extended","static","path","join","__dirname","bodyParser","schema","graphiql","listen"],"mappings":";;;;;;AAAA;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AATAA,iBAAOC,MAAP;;;AAWA,IAAMC,mBAAmBC,QAAQC,GAAR,CAAYC,aAArC;;AAIA,IAAMC,MAAM,wBAAZ;AACA,IAAMC,wBAAN;AACA,IAAMC,OAAO,IAAb;;AAEA;AACAC,mBACKC,OADL,CACaR,gBADb,EAC+B;AACvBS,oBAAgB,IADO;AAEvBC,qBAAiB;AAFM,CAD/B,EAKKC,IALL,CAKU;AAAA,WAAMC,QAAQC,GAAR,qBAAN;AAAA,CALV,EAMKC,KANL,CAMW;AAAA,WAAOF,QAAQC,GAAR,CAAYE,GAAZ,CAAP;AAAA,CANX;;AAQAX,IAAIY,GAAJ,CAAQ,4BAAR;AACAZ,IAAIY,GAAJ,CAAQC,kBAAQC,IAAR,EAAR;AACAd,IAAIY,GAAJ,CAAQC,kBAAQE,UAAR,CAAmB,EAAEC,UAAU,KAAZ,EAAnB,CAAR;AACAhB,IAAIY,GAAJ,CAAQ,6BAAR;AACAZ,IAAIY,GAAJ,CAAQC,kBAAQI,MAAR,CAAeC,eAAKC,IAAL,CAAUC,SAAV,cAAf,CAAR;AACApB,IAAIY,GAAJ,CAAQ,qBAAR;;AAEAZ,IAAIY,GAAJ,aAEI,qBAFJ,EAGIS,qBAAWP,IAAX,EAHJ,EAII,8BAAe;AACXQ,6BADW;AAEXC,cAAU;AAFC,CAAf,CAJJ;;AAUAvB,IAAIwB,MAAJ,CAAWtB,IAAX,EAAiB,YAAM;AACnBM,YAAQC,GAAR,mBAA4BR,GAA5B,SAAmCC,IAAnC;AACH,CAFD;;kBAIeF,G","file":"app.js","sourcesContent":["import \"@babel/polyfill\";\r\nimport dotenv from 'dotenv'\r\ndotenv.config()\r\nimport express from 'express'\r\nimport expressGraphQL from 'express-graphql'\r\nimport mongoose from 'mongoose'\r\nimport bodyParser from 'body-parser'\r\nimport cors from 'cors'\r\nimport cookieParser from 'cookie-parser'\r\nimport logger from 'morgan'\r\nimport path from 'path'\r\nimport schema from './graphql'\r\n\r\nconst MONGO_CONNECTION = process.env.DB_CONNECTION\r\n\r\n\r\n\r\nconst app = express()\r\nconst URL = `http://localhost`\r\nconst PORT = 3001\r\n\r\n// Connect to MongoDB with Mongoose.\r\nmongoose\r\n    .connect(MONGO_CONNECTION, {\r\n        useCreateIndex: true,\r\n        useNewUrlParser: true\r\n    })\r\n    .then(() => console.log(`MongoDB connected`))\r\n    .catch(err => console.log(err))\r\n\r\napp.use(logger(`dev`))\r\napp.use(express.json())\r\napp.use(express.urlencoded({ extended: false }))\r\napp.use(cookieParser())\r\napp.use(express.static(path.join(__dirname, `../public`)))\r\napp.use(cors())\r\n\r\napp.use(\r\n    `/graphql`,\r\n    cors(),\r\n    bodyParser.json(),\r\n    expressGraphQL({\r\n        schema,\r\n        graphiql: true\r\n    })\r\n)\r\n\r\napp.listen(PORT, () => {\r\n    console.log(`Listening on ${URL}:${PORT}`)\r\n})\r\n\r\nexport default app\r\n"]}